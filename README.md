# DFC transceiver


## How to build the FX3 firmware image

Firsts install the latest version of Cypress/Infineon FX3 SDK (1.3.5 at this time)
Then build the firmware:
```
cd fx3-firmware
make
```


## How to build the streaming client for Linux

```
cd streaming-client-linux
mkdir build
cd build
cmake ..
make
cd ..
```


## How to build the streaming client for Windows

Firsts install the latest version of Visual Studio with C++ support and Cypress CyUSB drivers.
Then build the streaming client:
```
cd streaming-client-windows
mkdir build
cd build
cmake -G "Visual Studio 17 2022" -A x64 ..
cmake --build . --config Release
cd ..
```
Detailed notes for Windows are in this [README](streaming-client-windows/README.md)


## How to stream from the DFC transceiver

Stream (RX) from the DFC transceiver for 20 seconds in single ADC mode (default sample rate=32MHz):
```
./streaming-client -f fx3-firmware.img -m SINGLE-ADC -t 20
```

Stream (RX) from the DFC transceiver for 20 seconds in single ADC mode (sample rate=100MHz):
```
./streaming-client -f fx3-firmware.img -m SINGLE-ADC -s 100e6 -t 20
```

Stream (RX) from the DFC transceiver for 20 seconds in dual ADC mode (default sample rate=32MHz):
```
./streaming-client -f fx3-firmware.img -m DUAL-ADC -t 20
```

Stream (RX) from the DFC transceiver for 20 seconds in dual ADC mode (sample rate=100MHz):
```
./streaming-client -f fx3-firmware.img -m DUAL-ADC -s 100e6 -t 20
```

Stream (TX) a sequence of 0's to the DFC transceiver for 20 seconds using the clock generated by the Si5351:
```
./streaming-client -f fx3-firmware.img -m DAC -t 20 -i - < /dev/zero
```

Stream (TX) a sequence of 0's to the DFC transceiver for 20 seconds using the internal FX3 clock:
```
./streaming-client -f fx3-firmware.img -m DAC-FX3-CLOCK -t 20 -i - < /dev/zero
```

For TX mode (last two examples) on Windows, you first have to create a file on disk with all the samples to be stream and then run a command like these:
```
build\Release\streaming-client.exe -f fx3-firmware.img -m DAC -t 20 -i samples.dat
build\Release\streaming-client.exe -f fx3-firmware.img -m DAC-FX3-CLOCK -t 20 -i samples.dat
```


## License

Licensed under the GNU GPL V3 (see [LICENSE](LICENSE))


## License

Licensed under the GNU GPL V3 (see [LICENSE](LICENSE))
